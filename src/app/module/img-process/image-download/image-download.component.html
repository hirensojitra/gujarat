<div class="h-95-vh d-flex flex-column p-3">
    <ng-container *ngIf="this.postDetails">
        <h3 class="text-center my-4 fw-b" *ngIf="this.postDetails.title">{{this.postDetails.title}}</h3>
        <p class="text-center mb-4 lh-base" *ngIf="this.postDetails.info">{{this.postDetails.info}}</p>
    </ng-container>
    <div class="flex-grow-1 position-relative overflow-hidden">
        <div class="position-absolute h-100 w-100 text-center d-flex align-items-center justify-content-center overflow-auto flex-column" id="canvas-container">
            <svg #imageDraw class="max-w-100 max-h-100" *ngIf="postStatus && !isDeleted"></svg>
            <img class="max-w-100 max-h-100 rounded-4" *ngIf="!postStatus || isDeleted" src="assets/images/svg/no-post.svg" />
            <div *ngIf="postStatus=='loading'">Loading </div>
        </div>
    </div>
    <ng-container *ngIf="postStatus!=='loading'&&isDeleted==true">
        <h5 class="text-center my-4"><b>{{postStatus}}</b></h5>
    </ng-container>
    <ng-container *ngIf="!postStatus">
        <h5 class="text-center my-2 text-danger"><b>No any post available for this link.</b></h5>
    </ng-container>
    <ng-container *ngIf="postStatus!=='loading'&&isDeleted==false">
        <h5 class="text-center my-4"><b>{{postStatus}}</b></h5>
    </ng-container>
    <ng-container *ngIf="postStatus && isDeleted==false">
        <hr>
        <span class="w-auto mx-auto">Created by <a href="https://www.facebook.com/SOJITRAHIREN" class="text-danger fw-bold" target="_blank" (click)="myInfo.show();false">Hiren Sojitra</a></span>
        <div class="mt-3 d-flex">
            <button class="btn btn-lg btn-primary mx-auto" (click)="checkDownload('download')">
                <i class="fa fa-download me-2"></i>Download
            </button>
            <!-- <button class="btn btn-primary mx-auto" (click)="checkDownload('whatsapp')">
                <i class="fa fa-whatsapp me-2"></i> Share To WhatsApp
            </button> -->
        </div>
    </ng-container>
    <ng-container *ngIf="!postStatus || isDeleted">
        <span class="w-auto mx-auto"><a href="" class="text-danger fw-bold">More Info</a></span>
        <div class="mt-3 d-flex">
            <div class="btn btn-lg btn-danger mx-auto" (click)="myInfo.show()"><i class="fa fa-user me-2"></i>Contact Us</div>
        </div>
    </ng-container>
</div>
<div class="modal fade" id="textModal" tabindex="-1" aria-labelledby="textModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="textModalLabel">{{textModalTitle}}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body bg-dark">
                <form [formGroup]="inputTextForm" (ngSubmit)="onTextSubmit()">
                    <input type="text" formControlName="text" class="form-control form-control-lg fw-bold" #textInput>
                    <div class="d-flex mt-4">
                        <button class="btn btn-primary mx-auto" [disabled]="inputTextForm.invalid" type="submit"><i class="fa fa-save"></i> Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="cropperModal" tabindex="-1" aria-labelledby="cropperModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cropperModalLabel">{{cropperModalTitle}}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <img id="cropper" alt="Crop" class="w-100" [src]="inputImageForm.get('image')?.value">
                <input #imageInput type="file" (change)="handleImageInputChange($event)" style="display: none">
                <form [formGroup]="inputImageForm" (ngSubmit)="onImageSubmit()">
                    <input type="hidden" formControlName="image">
                    <div class="d-flex mt-4">
                        <button class="btn btn-success mx-auto" (click)="openImageCropperDialog()" type="button"><i class="fa fa-refresh"></i> Change Photo</button>
                        <button class="btn btn-primary mx-auto" [disabled]="inputImageForm.invalid"><i class="fa fa-save"></i> Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="myInfo" tabindex="-1" aria-labelledby="myInfoLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="myInfoLabel">Contact Information</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h5>Hiren Sojitra</h5>
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <a href="mailto:hirensojitra007@gmail.com" class="form-control text-decoration-none fw-bold">hirensojitra007@gmail.com</a>
                </div>
                <div class="mb-3">
                    <label for="mobile" class="form-label">Mobile:</label>
                    <a href="tel:+919429558759" class="form-control text-decoration-none fw-bold">+919429558759</a>
                </div>
                <div class="mb-3">
                    <label for="social" class="form-label">Social Links:</label><br>
                    <a href="http://www.facebook.com/SOJITRAHIREN" class="btn btn-primary m-2 text-decoration-none" target="_blank"><i class="fa fa-facebook me-2"></i>Facebook</a>
                    <a href="http://www.instagram.com/HIREN_SOJITRA" class="btn btn-danger m-2 text-decoration-none" target="_blank"><i class="fa fa-instagram me-2"></i>Instagram</a>
                    <a href="http://www.twitter.com/SOJITRA_HIREN" class="btn btn-dark m-2 text-decoration-none" target="_blank"><i class="fa fa-twitter me-2"></i>Twitter</a>
                </div>
            </div>
        </div>
    </div>
</div>